import{i as h,aS as f,an as c,k as i,o as u,ao as a}from"./C4ENrkrF.js";class S extends Map{#e=new Map;#s=h(0);#r=h(0);#u=f||-1;constructor(e){if(super(),e){for(var[r,s]of e)super.set(r,s);this.#r.v=super.size}}#t(e){return f===this.#u?h(e):c(e)}has(e){var r=this.#e,s=r.get(e);if(s===void 0){var t=super.get(e);if(t!==void 0)s=this.#t(0),r.set(e,s);else return i(this.#s),!1}return i(s),!0}forEach(e,r){this.#i(),super.forEach(e,r)}get(e){var r=this.#e,s=r.get(e);if(s===void 0){var t=super.get(e);if(t!==void 0)s=this.#t(0),r.set(e,s);else{i(this.#s);return}}return i(s),super.get(e)}set(e,r){var s=this.#e,t=s.get(e),v=super.get(e),p=super.set(e,r),n=this.#s;if(t===void 0)t=this.#t(0),s.set(e,t),u(this.#r,super.size),a(n);else if(v!==r){a(t);var o=n.reactions===null?null:new Set(n.reactions),d=o===null||!t.reactions?.every(l=>o.has(l));d&&a(n)}return p}delete(e){var r=this.#e,s=r.get(e),t=super.delete(e);return s!==void 0&&(r.delete(e),u(this.#r,super.size),u(s,-1),a(this.#s)),t}clear(){if(super.size!==0){super.clear();var e=this.#e;u(this.#r,0);for(var r of e.values())u(r,-1);a(this.#s),e.clear()}}#i(){i(this.#s);var e=this.#e;if(this.#r.v!==e.size){for(var r of super.keys())if(!e.has(r)){var s=this.#t(0);e.set(r,s)}}for([,s]of this.#e)i(s)}keys(){return i(this.#s),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(this.#r),super.size}}export{S};
