import"../chunks/DsnmJJEf.js";import{o as ft}from"../chunks/BB-w6zuz.js";import{p as J,l as st,a as S,v as ct,w as ut,b as e,c as K,f,n as w,j,t as U,s as d,k as T,u as rt,d as n,r as i,h as _t,q as pt,i as gt,$ as $t,o as lt}from"../chunks/C4ENrkrF.js";import{s as nt,r as dt,i as at,p as ht,a as xt,b as yt}from"../chunks/Xxn1VSU5.js";import{e as Pt}from"../chunks/Dc6XNtIm.js";import{c as m}from"../chunks/CoQcnciM.js";import{B as Dt}from"../chunks/Drs0j6Za.js";import{I as bt}from"../chunks/BCgZte1q.js";import{R as Ct,C as wt,S as St,a as It,b as et}from"../chunks/BOelPzdw.js";import{b as Mt,a as vt,f as Bt,s as kt,d as Nt}from"../chunks/CWahLh_v.js";import{i as jt}from"../chunks/Ch69Uow7.js";import{s as N}from"../chunks/BNUiKFHq.js";import{g as Ht}from"../chunks/BsZaLcGj.js";import{r as Rt}from"../chunks/DAhJdk1q.js";import{B as At}from"../chunks/uRezNeBP.js";import{a as Tt,C as qt}from"../chunks/DyWQRENY.js";import{C as zt}from"../chunks/RcUtp9r4.js";import{C as Ft,a as Lt}from"../chunks/3iU5khaE.js";import{C as Ot}from"../chunks/9_FTv6cf.js";import{I as mt}from"../chunks/VaAWFdYK.js";import{C as Ut}from"../chunks/BCKu-1Wq.js";function Vt(h,t){J(t,!0);/**
 * @license @lucide/svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let _=dt(t,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];mt(h,nt({name:"file-text"},()=>_,{get iconNode(){return l},children:(g,I)=>{var r=st(),u=S(r);ct(u,()=>t.children??ut),e(g,r)},$$slots:{default:!0}})),K()}function Zt(h,t){J(t,!0);/**
 * @license @lucide/svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let _=dt(t,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];mt(h,nt({name:"search"},()=>_,{get iconNode(){return l},children:(g,I)=>{var r=st(),u=S(r);ct(u,()=>t.children??ut),e(g,r)},$$slots:{default:!0}})),K()}var Et=f("<!> <!> <!>",1),Gt=f('<p class="text-destructive"> </p>'),Jt=f('<p class="text-muted-foreground"> </p>'),Kt=f('<div class="mt-3 text-sm"><!></div>'),Qt=f('<div class="flex justify-between"><div><p class="text-xs text-muted-foreground">Issued</p> <p class="font-medium"> </p></div> <div><p class="text-xs text-muted-foreground">Due</p> <p class="font-medium"> </p></div> <div><p class="text-xs text-muted-foreground">Total</p> <p class="font-medium"> </p></div></div> <!>',1),Wt=f("<!> <!>",1);function Xt(h,t){J(t,!0);const _=dt(t,["$$slots","$$events","$$legacy","invoice"]),l=Mt(t.invoice.dueDate),g=l<0;var I=st(),r=S(I);m(r,()=>qt,(u,Q)=>{Q(u,nt({class:`group relative cursor-pointer bg-gradient-to-t from-primary/5 to-card
shadow-xs dark:bg-card`,onclick:()=>Ht(Rt(`/admin/invoice/preview/${t.invoice.id}`))},()=>_,{children:(ot,W)=>{var q=Wt(),z=S(q);m(z,()=>Ft,(Z,E)=>{E(Z,{children:(F,X)=>{var H=Et(),M=S(H);m(M,()=>Lt,(s,a)=>{a(s,{children:(o,$)=>{w();var v=j();U(()=>N(v,t.invoice.number)),e(o,v)},$$slots:{default:!0}})});var B=d(M,2);m(B,()=>zt,(s,a)=>{a(s,{children:(o,$)=>{w();var v=j();U(()=>N(v,t.invoice.client.name)),e(o,v)},$$slots:{default:!0}})});var L=d(B,2);m(L,()=>Ot,(s,a)=>{a(s,{children:(o,$)=>{{let v=rt(()=>t.invoice.status==="paid"?"default":t.invoice.status==="overdue"?"destructive":"secondary");At(o,{get variant(){return T(v)},children:(x,O)=>{w();var c=j();U(()=>N(c,t.invoice.status)),e(x,c)},$$slots:{default:!0}})}},$$slots:{default:!0}})}),e(F,H)},$$slots:{default:!0}})});var V=d(z,2);m(V,()=>Tt,(Z,E)=>{E(Z,{children:(F,X)=>{var H=Qt(),M=S(H),B=n(M),L=d(n(B),2),s=n(L,!0);i(L),i(B);var a=d(B,2),o=d(n(a),2),$=n(o,!0);i(o),i(a);var v=d(a,2),x=d(n(v),2),O=n(x,!0);i(x),i(v),i(M);var c=d(M,2);{var G=y=>{var R=Kt(),k=n(R);{var Y=P=>{var D=Gt(),p=n(D);i(D),U((b,C)=>N(p,`Overdue by ${b??""}
						${C??""}`),[()=>Math.abs(l),()=>Math.abs(l)===1?"day":"days"]),e(P,D)},tt=P=>{var D=Jt(),p=n(D);i(D),U(()=>N(p,`Due in ${l??""}
						${l===1?"day":"days"}`)),e(P,D)};at(k,P=>{g?P(Y):P(tt,!1)})}i(R),e(y,R)};at(c,y=>{(t.invoice.status==="sent"||t.invoice.status==="overdue")&&y(G)})}U((y,R,k)=>{N(s,y),N($,R),N(O,k)},[()=>vt(t.invoice.date),()=>vt(t.invoice.dueDate),()=>Bt(t.invoice.total)]),e(F,H)},$$slots:{default:!0}})}),e(ot,q)},$$slots:{default:!0}}))}),e(h,I),K()}var Yt=f("<!> <!> <!> <!>",1),te=f("<!> <!>",1),ee=f(`<div class="flex flex-col items-center gap-1 py-12 text-center"><!> <h3 class="mt-4 text-lg font-medium">No invoices found</h3> <p class="mt-1 text-muted-foreground">Try adjusting your search or filter to find what you're looking for.</p></div>`),re=f('<div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"></div>'),ae=f('<div><div class="mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"><div class="relative w-full sm:max-w-sm"><div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"><!></div> <!></div> <div class="flex items-center gap-2"><!> <!></div></div> <!></div>');function se(h,t){J(t,!0);const[_,l]=xt(),g=()=>yt(jt,"$invoiceStore",_),I=ht(t,"status",3,"all"),r=_t({status:I(),search:"",sortBy:"date",sortDirection:"desc"}),u=rt(()=>Nt(g(),r.status,r.search)),Q=rt(()=>kt(T(u),r.sortBy,r.sortDirection));function ot(){r.sortDirection=r.sortDirection==="asc"?"desc":"asc"}var W=ae(),q=n(W),z=n(q),V=n(z),Z=n(V);Zt(Z,{class:"h-4 w-4 text-muted-foreground"}),i(V);var E=d(V,2);bt(E,{id:"search-invoices",type:"text",placeholder:"Search invoices...",class:"pl-10",get value(){return r.search},set value(s){r.search=s}}),i(z);var F=d(z,2),X=n(F);m(X,()=>Ct,(s,a)=>{a(s,{get value(){return r.sortBy},set value(o){r.sortBy=o},children:(o,$)=>{var v=te(),x=S(v);m(x,()=>St,(c,G)=>{G(c,{class:"w-[180px]",children:(y,R)=>{w();var k=j("Sort by");e(y,k)},$$slots:{default:!0}})});var O=d(x,2);m(O,()=>It,(c,G)=>{G(c,{children:(y,R)=>{var k=Yt(),Y=S(k);m(Y,()=>et,(p,b)=>{b(p,{value:"date",children:(C,it)=>{w();var A=j("Issue Date");e(C,A)},$$slots:{default:!0}})});var tt=d(Y,2);m(tt,()=>et,(p,b)=>{b(p,{value:"dueDate",children:(C,it)=>{w();var A=j("Due Date");e(C,A)},$$slots:{default:!0}})});var P=d(tt,2);m(P,()=>et,(p,b)=>{b(p,{value:"number",children:(C,it)=>{w();var A=j("Invoice #");e(C,A)},$$slots:{default:!0}})});var D=d(P,2);m(D,()=>et,(p,b)=>{b(p,{value:"total",children:(C,it)=>{w();var A=j("Amount");e(C,A)},$$slots:{default:!0}})}),e(y,k)},$$slots:{default:!0}})}),e(o,v)},$$slots:{default:!0}})});var H=d(X,2);{let s=rt(()=>r.sortDirection==="asc"?"Sort descending":"Sort ascending");Dt(H,{variant:"outline",size:"icon",onclick:ot,get"aria-label"(){return T(s)},children:(a,o)=>{var $=st(),v=S($);{var x=c=>{wt(c,{})},O=c=>{Ut(c,{})};at(v,c=>{r.sortDirection==="asc"?c(x):c(O,!1)})}e(a,$)},$$slots:{default:!0}})}i(F),i(q);var M=d(q,2);{var B=s=>{var a=ee(),o=n(a);Vt(o,{class:"h-12 w-12 text-muted-foreground"}),w(4),i(a),e(s,a)},L=s=>{var a=re();Pt(a,21,()=>T(Q),o=>o.id,(o,$)=>{Xt(o,{get invoice(){return T($)}})}),i(a),e(s,a)};at(M,s=>{T(Q).length===0?s(B):s(L,!1)})}i(W),e(h,W),K(),l()}var oe=f('<meta name="description" content="CMS"/>'),ie=f('<div class="mx-auto grid gap-4 md:max-w-full lg:max-w-7xl"><div class="grid gap-4 md:grid-cols-1 lg:grid-cols-1"><!></div></div>');function Ie(h,t){J(t,!0);let _=gt("all");ft(()=>{const u=new URLSearchParams(location.search).get("status");u&&["draft","sent","paid","overdue"].includes(u)?lt(_,u,!0):lt(_,"all")});var l=ie();pt(r=>{var u=oe();$t.title="CMS | Admin | Invoice list",e(r,u)});var g=n(l),I=n(g);se(I,{get status(){return T(_)}}),i(g),i(l),e(h,l),K()}export{Ie as component};
