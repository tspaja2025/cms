import"../chunks/DsnmJJEf.js";import{o as Ce}from"../chunks/BB-w6zuz.js";import{p as oe,l as X,a as i,v as Te,w as je,b as t,c as le,f as n,q as Ie,$ as Me,k as r,i as Rt,d as a,o as U,r as s,s as e,n as d,j as c,t as g}from"../chunks/C4ENrkrF.js";import{s as u}from"../chunks/BNUiKFHq.js";import{s as De,r as Be,i as W}from"../chunks/Xxn1VSU5.js";import{e as Ae,i as Ne}from"../chunks/Dc6XNtIm.js";import{c as o}from"../chunks/CoQcnciM.js";import{g as qt}from"../chunks/BsZaLcGj.js";import{r as Ft}from"../chunks/DAhJdk1q.js";import{p as Ee}from"../chunks/D4_GG1M5.js";import{B as Oe}from"../chunks/uRezNeBP.js";import{B as it}from"../chunks/Drs0j6Za.js";import{a as Re,C as qe}from"../chunks/DyWQRENY.js";import{C as Fe}from"../chunks/RcUtp9r4.js";import{a as ae,f as vt}from"../chunks/CWahLh_v.js";import{C as Ge,a as Ve}from"../chunks/3iU5khaE.js";import{S as ze,a as He,b as gt,R as Qe}from"../chunks/BOelPzdw.js";import{T as Ye,a as Je,b as se,c as bt,d as Ke,e as yt}from"../chunks/DE1xQxDp.js";import{i as Gt}from"../chunks/Ch69Uow7.js";import{A as Le}from"../chunks/NOhDhExq.js";import{I as Ue}from"../chunks/VaAWFdYK.js";import{P as We}from"../chunks/L3IDYQoJ.js";import{T as Xe}from"../chunks/DXqBDAri.js";function Ze(Pt,Z){oe(Z,!0);/**
 * @license @lucide/svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let ct=Be(Z,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]];Ue(Pt,De({name:"printer"},()=>ct,{get iconNode(){return l},children:(tt,z)=>{var et=X(),H=i(et);Te(H,()=>Z.children??je),t(tt,et)},$$slots:{default:!0}})),le()}const tr=!1,zr=Object.freeze(Object.defineProperty({__proto__:null,prerender:tr},Symbol.toStringTag,{value:"Module"}));var er=n('<meta name="description" content="CMS"/>'),rr=n('<div class="flex h-64 items-center justify-center"><div class="border-primary-600 h-12 w-12 animate-spin rounded-full border-t-2 border-b-2"></div></div>'),ar=n('<div class="bg-error-50 border-error-200 text-error-700 rounded-lg border px-4 py-3"><p> </p> <!></div>'),sr=n("<!> <!> <!> <!>",1),or=n("<!> <!>",1),lr=n("<!> Print",1),dr=n("<!> Edit",1),nr=n("<!> Delete",1),ir=n('<div><!> <!></div> <div><div class="text-secondary-600 text-sm">Issue Date</div> <div class="font-medium"> </div> <div class="text-secondary-600 mt-2 text-sm">Due Date</div> <div class="font-medium"> </div></div>',1),vr=n('<p class="text-secondary-600 whitespace-pre-line"> </p>'),cr=n('<p class="text-secondary-600"> </p>'),ur=n("<!> <!> <!> <!>",1),_r=n("<!> <!> <!> <!>",1),pr=n("<!> <!>",1),fr=n('<div class="border-secondary-200 border-t pt-6"><h3 class="text-secondary-700 mb-2 text-sm font-medium">Notes</h3> <p class="text-secondary-600 whitespace-pre-line"> </p></div>'),mr=n('<div class="mb-8 grid grid-cols-1 gap-6 md:grid-cols-2"><div><h3 class="text-secondary-500 mb-1 text-sm font-medium">From</h3> <p class="font-semibold">Your Company Name</p> <p class="text-secondary-600">123 Business Street</p> <p class="text-secondary-600">San Francisco, CA 94103</p> <p class="text-secondary-600">contact@yourcompany.com</p></div> <div><h3 class="text-secondary-500 mb-1 text-sm font-medium">Bill To</h3> <p class="font-semibold"> </p> <!> <!></div></div> <div class="mb-8 overflow-x-auto"><!></div> <div class="mb-8 flex justify-end"><div class="w-full max-w-xs"><div class="flex justify-between py-2"><span class="text-secondary-600">Subtotal</span> <span class="font-medium"> </span></div> <div class="border-secondary-200 flex justify-between border-b py-2"><span class="text-secondary-600">Tax (10%)</span> <span class="font-medium"> </span></div> <div class="flex justify-between py-3 text-lg font-bold"><span>Total</span> <span> </span></div></div></div> <!>',1),$r=n("<!> <!>",1),xr=n('<div class="animate-fade-in mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"><div class="flex items-center space-x-3"><!> <h2 class="text-2xl font-semibold"> </h2> <!></div> <div class="flex items-center space-x-3"><!> <!> <!> <!></div></div> <!>',1),hr=n('<div class="mx-auto grid gap-4 md:max-w-full lg:max-w-7xl"><div class="grid gap-4 md:grid-cols-1 lg:grid-cols-1"><!></div></div>');function Hr(Pt,Z){oe(Z,!0);const ct=Ee.params.id;let l=Rt(null),tt=Rt(!0),z=Rt(null);Ce(()=>{et()});function et(){U(tt,!0),U(z,null);try{const _=Gt.getById(ct);_?U(l,_,!0):U(z,"Invoice not found")}catch(_){U(z,"Error loading invoice"),console.error(_)}finally{U(tt,!1)}}function H(_){r(l)&&(Gt.updateStatus(r(l).id,_),et())}function de(){qt(Ft(`/admin/invoice/edit/${ct}`))}function ne(){r(l)&&confirm("Are you sure you want to delete this invoice?")&&(Gt.delete(r(l).id),qt(Ft("/admin/invoice/list")))}function Vt(){qt(Ft("/admin/invoice/list"))}function ie(){window.print()}var wt=hr();Ie(_=>{var Q=er();Me.title="CMS | Admin | Invoice preview",t(_,Q)});var zt=a(wt),ve=a(zt);{var ce=_=>{var Q=rr();t(_,Q)},ue=_=>{var Q=X(),_e=i(Q);{var pe=Y=>{var J=ar(),rt=a(J),kt=a(rt,!0);s(rt);var at=e(rt,2);it(at,{variant:"destructive",onclick:Vt,children:(ut,_t)=>{d();var st=c("Go back");t(ut,st)},$$slots:{default:!0}}),s(J),g(()=>u(kt,r(z))),t(Y,J)},fe=Y=>{var J=X(),rt=i(J);{var kt=at=>{var ut=xr(),_t=i(ut),st=a(_t),Ht=a(st);it(Ht,{onclick:Vt,"aria-label":"Go back",children:(h,I)=>{Le(h,{})},$$slots:{default:!0}});var St=e(Ht,2),me=a(St,!0);s(St);var $e=e(St,2);Oe($e,{children:(h,I)=>{d();var p=c();g(()=>u(p,r(l).status)),t(h,p)},$$slots:{default:!0}}),s(st);var Qt=e(st,2),Yt=a(Qt);o(Yt,()=>Qe,(h,I)=>{I(h,{type:"single",children:(p,A)=>{var ot=or(),lt=i(ot);o(lt,()=>ze,(N,E)=>{E(N,{children:(O,Tt)=>{d();var w=c("Status");t(O,w)},$$slots:{default:!0}})});var Ct=e(lt,2);o(Ct,()=>He,(N,E)=>{E(N,{children:(O,Tt)=>{var w=sr(),k=i(w);o(k,()=>gt,(x,y)=>{y(x,{value:"draft",onclick:()=>H("draft"),children:(b,R)=>{d();var v=c("Mark as Draft");t(b,v)},$$slots:{default:!0}})});var M=e(k,2);o(M,()=>gt,(x,y)=>{y(x,{value:"sent",onclick:()=>H("sent"),children:(b,R)=>{d();var v=c("Mark as Sent");t(b,v)},$$slots:{default:!0}})});var D=e(M,2);o(D,()=>gt,(x,y)=>{y(x,{value:"paid",onclick:()=>H("paid"),children:(b,R)=>{d();var v=c("Mark as Paid");t(b,v)},$$slots:{default:!0}})});var K=e(D,2);o(K,()=>gt,(x,y)=>{y(x,{value:"overdue",onclick:()=>H("overdue"),children:(b,R)=>{d();var v=c("Mark as Overdue");t(b,v)},$$slots:{default:!0}})}),t(O,w)},$$slots:{default:!0}})}),t(p,ot)},$$slots:{default:!0}})});var Jt=e(Yt,2);it(Jt,{onclick:ie,children:(h,I)=>{var p=lr(),A=i(p);Ze(A,{}),d(),t(h,p)},$$slots:{default:!0}});var Kt=e(Jt,2);it(Kt,{onclick:de,children:(h,I)=>{var p=dr(),A=i(p);We(A,{}),d(),t(h,p)},$$slots:{default:!0}});var xe=e(Kt,2);it(xe,{variant:"destructive",onclick:ne,children:(h,I)=>{var p=nr(),A=i(p);Xe(A,{}),d(),t(h,p)},$$slots:{default:!0}}),s(Qt),s(_t);var he=e(_t,2);o(he,()=>qe,(h,I)=>{I(h,{class:`bg-gradient-to-t from-primary/5 to-card
shadow-xs dark:bg-card`,children:(p,A)=>{var ot=$r(),lt=i(ot);o(lt,()=>Ge,(N,E)=>{E(N,{class:"flex items-center justify-between",children:(O,Tt)=>{var w=ir(),k=i(w),M=a(k);o(M,()=>Ve,(v,q)=>{q(v,{class:"mb-1 text-2xl font-bold",children:(F,pt)=>{d();var B=c("INVOICE");t(F,B)},$$slots:{default:!0}})});var D=e(M,2);o(D,()=>Fe,(v,q)=>{q(v,{class:"text-secondary-600",children:(F,pt)=>{d();var B=c();g(()=>u(B,r(l).number)),t(F,B)},$$slots:{default:!0}})}),s(k);var K=e(k,2),x=e(a(K),2),y=a(x,!0);s(x);var b=e(x,4),R=a(b,!0);s(b),s(K),g((v,q)=>{u(y,v),u(R,q)},[()=>ae(r(l).date),()=>ae(r(l).dueDate)]),t(O,w)},$$slots:{default:!0}})});var Ct=e(lt,2);o(Ct,()=>Re,(N,E)=>{E(N,{children:(O,Tt)=>{var w=mr(),k=i(w),M=e(a(k),2),D=e(a(M),2),K=a(D,!0);s(D);var x=e(D,2);{var y=f=>{var m=vr(),S=a(m,!0);s(m),g(()=>u(S,r(l).client.address)),t(f,m)};W(x,f=>{r(l).client.address&&f(y)})}var b=e(x,2);{var R=f=>{var m=cr(),S=a(m,!0);s(m),g(()=>u(S,r(l).client.email)),t(f,m)};W(b,f=>{r(l).client.email&&f(R)})}s(M),s(k);var v=e(k,2),q=a(v);o(q,()=>Ye,(f,m)=>{m(f,{class:"w-full",children:(S,Zt)=>{var te=pr(),ee=i(te);o(ee,()=>Je,(It,Mt)=>{Mt(It,{children:(Dt,Se)=>{var dt=X(),Bt=i(dt);o(Bt,()=>se,(At,L)=>{L(At,{children:(ft,re)=>{var mt=ur(),$t=i(mt);o($t,()=>bt,(C,T)=>{T(C,{children:(j,nt)=>{d();var $=c("Description");t(j,$)},$$slots:{default:!0}})});var xt=e($t,2);o(xt,()=>bt,(C,T)=>{T(C,{class:"text-right",children:(j,nt)=>{d();var $=c("Quantity");t(j,$)},$$slots:{default:!0}})});var Nt=e(xt,2);o(Nt,()=>bt,(C,T)=>{T(C,{class:"text-right",children:(j,nt)=>{d();var $=c("Rate");t(j,$)},$$slots:{default:!0}})});var ht=e(Nt,2);o(ht,()=>bt,(C,T)=>{T(C,{class:"text-right",children:(j,nt)=>{d();var $=c("Amount");t(j,$)},$$slots:{default:!0}})}),t(ft,mt)},$$slots:{default:!0}})}),t(Dt,dt)},$$slots:{default:!0}})});var ke=e(ee,2);o(ke,()=>Ke,(It,Mt)=>{Mt(It,{children:(Dt,Se)=>{var dt=X(),Bt=i(dt);Ae(Bt,17,()=>r(l).items,Ne,(At,L)=>{var ft=X(),re=i(ft);o(re,()=>se,(mt,$t)=>{$t(mt,{children:(xt,Nt)=>{var ht=_r(),C=i(ht);o(C,()=>yt,($,G)=>{G($,{children:(V,Et)=>{d();var P=c();g(()=>u(P,r(L).description)),t(V,P)},$$slots:{default:!0}})});var T=e(C,2);o(T,()=>yt,($,G)=>{G($,{class:"text-right",children:(V,Et)=>{d();var P=c();g(()=>u(P,r(L).quantity)),t(V,P)},$$slots:{default:!0}})});var j=e(T,2);o(j,()=>yt,($,G)=>{G($,{class:"text-right",children:(V,Et)=>{d();var P=c();g(Ot=>u(P,Ot),[()=>vt(r(L).rate)]),t(V,P)},$$slots:{default:!0}})});var nt=e(j,2);o(nt,()=>yt,($,G)=>{G($,{class:"text-right",children:(V,Et)=>{d();var P=c();g(Ot=>u(P,Ot),[()=>vt(r(L).amount)]),t(V,P)},$$slots:{default:!0}})}),t(xt,ht)},$$slots:{default:!0}})}),t(At,ft)}),t(Dt,dt)},$$slots:{default:!0}})}),t(S,te)},$$slots:{default:!0}})}),s(v);var F=e(v,2),pt=a(F),B=a(pt),Lt=e(a(B),2),ge=a(Lt,!0);s(Lt),s(B);var jt=e(B,2),Ut=e(a(jt),2),be=a(Ut,!0);s(Ut),s(jt);var Wt=e(jt,2),Xt=e(a(Wt),2),ye=a(Xt,!0);s(Xt),s(Wt),s(pt),s(F);var Pe=e(F,2);{var we=f=>{var m=fr(),S=e(a(m),2),Zt=a(S,!0);s(S),s(m),g(()=>u(Zt,r(l).notes)),t(f,m)};W(Pe,f=>{r(l).notes&&f(we)})}g((f,m,S)=>{u(K,r(l).client.name),u(ge,f),u(be,m),u(ye,S)},[()=>vt(r(l).subtotal),()=>vt(r(l).tax),()=>vt(r(l).total)]),t(O,w)},$$slots:{default:!0}})}),t(p,ot)},$$slots:{default:!0}})}),g(()=>u(me,r(l).number)),t(at,ut)};W(rt,at=>{r(l)&&at(kt)},!0)}t(Y,J)};W(_e,Y=>{r(z)?Y(pe):Y(fe,!1)},!0)}t(_,Q)};W(ve,_=>{r(tt)?_(ce):_(ue,!1)})}s(zt),s(wt),t(Pt,wt),le()}export{Hr as component,zr as universal};
